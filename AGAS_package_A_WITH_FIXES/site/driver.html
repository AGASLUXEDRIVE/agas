
<!doctype html><html><head><meta charset="utf-8"><title>Driver App - AGAS</title>
<link rel="stylesheet" href="../assets/css/style.css">
</head><body>
  <div style="padding:20px;max-width:700px;margin:30px auto;background:#fff;border-radius:8px;">
    <h2>Driver Dashboard</h2>
    <div id="driver-jobs">Loading jobs...</div>
    <script>
      async function loadJobs(){
        try{
          const r = await fetch('/api/bookings');
          const j = await r.json();
          const list = j.bookings || [];
          document.getElementById('driver-jobs').innerHTML = list.map(b=>`<div style="padding:8px;border-bottom:1px solid #eee;"><strong>#${b.id}</strong> ${b.pickup} â†’ ${b.dropoff} <div><button onclick="start(${b.id})">Start</button> <button onclick="complete(${b.id})">Complete</button></div></div>`).join('');
        }catch(e){ document.getElementById('driver-jobs').innerText='Failed to load jobs'; }
      }
      function start(id){ alert('Started '+id); }
      function complete(id){ alert('Completed '+id); }
      loadJobs();
    </script>
  </div>
</body></html>
